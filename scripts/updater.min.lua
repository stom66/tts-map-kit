function checkForUpdates(a,b)local c={asset=a,version=b,repo="https://raw.githubusercontent.com/stom66/tts-map-kit/master/scripts/",timeout=20}local d="?"..math.floor(os.time())c.url_version=c.repo..c.asset.."/version"..d;c.url_lua=c.repo..c.asset.."/"..c.asset..".lua"..d;c.url_xml=c.repo..c.asset.."/"..c.asset..".xml"..d;local function e(f)local g=c.version;local h=c.asset;if f==g then log("Asset "..h.." is up-to-date: "..f)return false end;local i=string.match(f,"%d+")local j=string.match(g,"%d+")if i>j then log("Asset "..h.." needs to be updated from "..g.." to "..f)return true end;if i==j then local k=string.match(f,"%a+")or 0;local l=string.match(g,"%a+")or 0;if string.byte(k)>string.byte(l)then log("Asset "..h.." needs to be patched from "..g.." to "..f)return true end end;log("!#! Warning! asset "..h.." is a higher version than the repo")return false end;WebRequest.get(c.url_version,function(m)if e(m.text)then log("Starting script update...")log("   ...fetching xml and lua version "..m.text)local n=false;WebRequest.get(c.url_lua,function(o)self.setLuaScript(o.text)log("   ...loaded lua from "..o.url)n=true end)local p=false;WebRequest.get(c.url_xml,function(q)self.UI.setXml(q.text)log("   ...loaded xml from "..q.url)p=true end)Wait.condition(function()log("   ...updating asset "..c.asset.." complete!")self.reload()end,function()return n and p end,timeout,function()log("Unable to update asset "..a..", update timed out after "..timeout.." seconds")end)end end)end