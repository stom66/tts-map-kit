function checkForUpdates(a,b)local c={asset=a,version=b,repo="https://raw.githubusercontent.com/stom66/tts-map-kit/master/scripts/",timeout=20,url_s="?"..math.floor(os.time())}c.url_version=c.repo..c.asset.."/version"..url_s;c.url_lua=c.repo..c.asset.."/"..c.asset..".lua"..url_s;c.url_xml=c.repo..c.asset.."/"..c.asset..".xml"..url_s;local function d(e)local f=c.version;local g=c.asset;if e==f then log("Asset "..g.." is up-to-date: "..e)return false end;local h=string.match(e,"%d+")local i=string.match(f,"%d+")if h>i then log("Asset "..g.." needs to be updated from "..f.." to "..e)return true end;if h==i then local j=string.match(e,"%a+")or 0;local k=string.match(f,"%a+")or 0;if string.byte(j)>string.byte(k)then log("Asset "..g.." needs to be patched from "..f.." to "..e)return true end end;log("!#! Warning! asset "..g.." is a higher version than the repo")return false end;WebRequest.get(c.url_version,function(l)if d(l.text)then log("Starting script update...")log("   ...fetching xml and lua version "..l.text)local m=false;WebRequest.get(c.url_lua,function(n)self.setLuaScript(n.text)log("   ...loaded lua from "..n.url)m=true end)local o=false;WebRequest.get(c.url_xml,function(p)self.UI.setXml(p.text)log("   ...loaded xml from "..p.url)o=true end)Wait.condition(function()log("   ...updating asset "..c.asset.." complete!")self.reload()end,function()return m and o end,timeout,function()log("Unable to update asset "..a..", update timed out after "..timeout.." seconds")end)end end)end